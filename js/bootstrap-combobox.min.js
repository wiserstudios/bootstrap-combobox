(function(){"use strict";var t,e,i,n,o,r=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(t,e,i){this.value=t,this.text=e,this.selected=i}return t}(),i=function(){function t(t,e){this.label=t,this.options=e}return t}(),t=function(){function t(e,i){this.options=$.extend({},t.DEFAULTS,i),this.$body=$(document.body),this.$element=$(e),this.$container=this.createContainer(this.$element),this.$input=this.$container.find("input[type=text]"),this.$hidden=this.$container.find("input[type=hidden]"),this.$button=this.$container.find(".dropdown-toggle"),this.$menu=$(this.options.menu).appendTo(this.$body),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.shown=!1,this.selected=!1,this.refresh(),this.transferAttributes(),this.listen()}return t.VERSION=2,t.DEFAULTS={template:'<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="off" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>',menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},t.prototype.disable=function(){return this.$input.prop("disabled",!0),this.$button.attr("disabled",!0),this.disabled=!0,this.$container.addClass("combobox-disabled")},t.prototype.enable=function(){return this.$input.prop("disabled",!1),this.$button.attr("disabled",!1),this.disabled=!1,this.$container.removeClass("combobox-disabled")},t.prototype.show=function(){var t,e;return this.$container.trigger(t=$.Event("show.bs.combobox")),t.isDefaultPrevented()?void 0:(e=$.extend({},this.$input.position(),{height:this.$input[0].offsetHeight}),this.$menu.insertAfter(this.$input).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this.$container.trigger(t=$.Event("shown.bs.combobox")))},t.prototype.hide=function(){var t;return this.$container.trigger(t=$.Event("hide.bs.combobox")),t.isDefaultPrevented()?void 0:(this.$menu.hide(),this.shown=!1,this.$container.trigger(t=$.Event("hidden.bs.combobox")))},t.prototype.toggle=function(){return!this.disabled&&(this.shown&&this.hide(),this.shown||this.selected||this.lookup(),this.selected)?this.clear():void 0},t.prototype.refresh=function(){var t;return this.$container.trigger(t=$.Event("refresh.bs.combobox")),t.isDefaultPrevented()?void 0:(this.items=this.parse(this.$element),this.setPlaceholder(this.items),this.select(this.items),this.$container.trigger(t=$.Event("refreshed.bs.combobox")))},t.prototype.select=function(t){var i;if(this.$container.trigger(i=$.Event("select.bs.combobox")),!i.isDefaultPrevented()){switch(!1){case!(t instanceof e):this.$container.addClass("combobox-selected"),this.$input.val(t.text).trigger("change"),this.$hidden.val(t.value).trigger("change"),this.$element.val(t.value).trigger("change"),this.selected=!0,this.$container.trigger(i=$.Event("selected.bs.combobox"));break;case!(t instanceof Array):this.traverseOptions(t,function(t){return function(e){return e.selected?t.select(e):void 0}}(this));break;case!(null==t):this.select(this.$menu.find(".active").data("option"))}return this.hide()}},t.prototype.clear=function(){var t;return this.$container.trigger(t=$.Event("clear.bs.combobox")),t.isDefaultPrevented()?void 0:(this.$container.removeClass("combobox-selected"),this.$input.val("").trigger("change").focus(),this.$hidden.val("").trigger("change"),this.$element.val("").trigger("change"),this.selected=!1,this.$container.trigger(t=$.Event("cleared.bs.combobox")))},t.prototype.createContainer=function(t){var e;return e=$(this.options.template),t.before(e),t.hide(),e},t.prototype.transferAttributes=function(){return this.options.placeholder=this.$element.attr("data-placeholder")||this.options.placeholder,this.$input.attr("placeholder",this.options.placeholder),this.$hidden.prop("name",this.$element.prop("name")),this.$hidden.val(this.$element.val()),this.$element.removeAttr("name"),this.$input.attr("required",this.$element.attr("required")),this.$input.attr("rel",this.$element.attr("rel")),this.$input.attr("title",this.$element.attr("title")),this.$input.attr("class",this.$element.attr("class")),this.$input.attr("tabindex",this.$element.attr("tabindex")),this.$element.removeAttr("tabindex"),null!=this.$element.attr("disabled")?this.disable():void 0},t.prototype.parseOption=function(t){return new e(t.val(),t.text(),t.prop("selected")&&""!==t.val())},t.prototype.parseOptionGroup=function(t){var e,n;return n=function(){var i,n,o,r;for(o=t.children("option"),r=[],i=0,n=o.length;n>i;i++)e=o[i],r.push(this.parseOption($(e)));return r}.call(this),new i(t.attr("label"),n)},t.prototype.parse=function(t){var e,i,n,o,r;for(o=t.children("option,optgroup"),r=[],i=0,n=o.length;n>i;i++)e=o[i],r.push($(e).is("option")?this.parseOption($(e)):this.parseOptionGroup($(e)));return r},t.prototype.traverseOptions=function(t,n){var o,r,s,h,a;for(a=[],s=0,h=t.length;h>s;s++)o=t[s],a.push(o instanceof e?n(o):o instanceof i?function(){var t,e,i,s;for(i=o.options,s=[],t=0,e=i.length;e>t;t++)r=i[t],s.push(n(r));return s}():void 0);return a},t.prototype.setPlaceholder=function(t){return this.traverseOptions(t,function(t){return function(e){return""===e.value?t.options.placeholder=e.text:void 0}}(this))},t.prototype.lookup=function(t){return this.query=this.$input.val(),this.process(this.items)},t.prototype.process=function(t){var n,o,r,s,h,a;for(s=this.sorter(function(){var i,n,o;for(o=[],i=0,n=t.length;n>i;i++)r=t[i],r instanceof e&&this.matcher(r.text)&&o.push(r);return o}.call(this)),o=function(){var e,o,r;for(r=[],e=0,o=t.length;o>e;e++)n=t[e],n instanceof i&&r.push(new i(n.label,n.options));return r}(),h=0,a=o.length;a>h;h++)n=o[h],n.options=this.sorter(function(){var t,e,i,o;for(i=n.options,o=[],t=0,e=i.length;e>t;t++)r=i[t],this.matcher(r.text)&&o.push(r);return o}.call(this));return o=function(){var t,e,i;for(i=[],t=0,e=o.length;e>t;t++)n=o[t],n.options.length>0&&i.push(n);return i}(),t=s.concat(o),0!==t.length?(this.render(t),this.show()):this.shown?this.hide:void 0},t.prototype.matcher=function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},t.prototype.sorter=function(t){var e,i,n,o,r,s;for(e=[],n=[],i=[],r=0,s=t.length;s>r;r++)o=t[r],o.text.toLowerCase().indexOf(this.query.toLowerCase())?~o.text.indexOf(this.query)?n.push(o):i.push(o):e.push(o);return e.concat(n,i)},t.prototype.highlighter=function(t){var e,i;return e=/[\u0600-\u06FF]/,e.test(t)?t:(i=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t.replace(new RegExp("("+i+")","ig"),function(t,e){return"<strong>"+e+"</strong>"}))},t.prototype.renderOption=function(t){var e;return e=$(this.options.item),e.data("option",t),e.find("a").html(this.highlighter(t.text)),e},t.prototype.renderOptionGroup=function(t){var e,i,n;return e=$(this.options.item),e.addClass("dropdown-header"),e.html(t.label),n=function(){var e,n,o,r;for(o=t.options,r=[],e=0,n=o.length;n>e;e++)i=o[e],""!==i.value&&r.push(this.renderOption(i));return r}.call(this),[e].concat(n)},t.prototype.render=function(t){var n,o,r,s,h,a,u,p,c;for(a=function(){var i,n,o;for(o=[],i=0,n=t.length;n>i;i++)h=t[i],h instanceof e&&""!==h.value&&o.push(this.renderOption(h));return o}.call(this),s=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)r=t[e],r instanceof i&&o.push(this.renderOptionGroup(r));return o}.call(this),a.length>0?a[0].addClass("active"):s[0][1].addClass("active"),n=$(this.options.item),n.addClass("divider"),n.html(""),this.$menu.html(""),this.$menu.append(a),c=[],u=0,p=s.length;p>u;u++)r=s[u],this.$menu.children().length>0&&this.$menu.append(n),c.push(function(){var t,e,i;for(i=[],t=0,e=r.length;e>t;t++)o=r[t],i.push(this.$menu.append(o));return i}.call(this));return c},t.prototype.next=function(t){var e,i;return e=this.$menu.find(".active").removeClass("active"),i=e.next(),i.length||(i=$(this.$menu.find("li")[0])),i.addClass("active")},t.prototype.prev=function(t){var e,i;return e=this.$menu.find(".active").removeClass("active"),i=e.prev(),i.length||(i=this.$menu.find("li").last()),i.addClass("active")},t.prototype.listen=function(){return this.$input.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$input.on("keydown",$.proxy(this.keydown,this)),this.$menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this)),this.$button.on("click",$.proxy(this.toggle,this))},t.prototype.eventSupported=function(t){var e;return e=r.call(this.$input,t)>=0,e||(this.$input.attr(t,"return;"),e="function"==typeof this.$input[t]),e},t.prototype.move=function(t){if(this.shown){switch(t.keyCode){case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}return t.stopPropagation()}},t.prototype.keydown=function(t){return this.suppressKeyPressRepeat=~$.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},t.prototype.keypress=function(t){return this.suppressKeyPressRepeat?void 0:this.move(t)},t.prototype.keyup=function(t){switch(t.keyCode){case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.clear(),this.lookup()}return t.stopPropagation(),t.preventDefault()},t.prototype.focus=function(t){return this.focused=!0},t.prototype.blur=function(t){var e;return this.focused=!1,e=this.$input.val(),this.selected||""===e||(this.$input.val(""),this.$element.val("").trigger("change"),this.$hidden.val("").trigger("change")),!this.mousedover&&this.shown?setTimeout(function(t){return function(){return t.hide()}}(this),200):void 0},t.prototype.click=function(t){return t.stopPropagation(),t.preventDefault(),this.select(),this.$input.focus()},t.prototype.mouseenter=function(t){return this.mousedover=!0,this.$menu.find(".active").removeClass("active"),$(t.currentTarget).addClass("active")},t.prototype.mouseleave=function(t){return this.mousedover=!1},t}(),n=function(e){return this.each(function(){var i,n,o;return i=$(this),n=i.data("bs.combobox"),o="object"==typeof e&&e,n||i.data("bs.combobox",n=new t(this,o)),"string"==typeof e?n[e]():void 0})},o=$.fn.combobox,$.fn.combobox=n,$.fn.combobox.Constructor=t,$.fn.combobox.noConflict=function(){return $.fn.combobox=o,this}}).call(this);
//# sourceMappingURL=./bootstrap-combobox.min.map